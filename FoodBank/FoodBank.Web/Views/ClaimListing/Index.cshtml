@model FoodBank.Core.Dto.Listing.ListingIndexModel

@{
    ViewBag.Title = "Listings";
    ViewBag.MenuItem = "listing";
}
@section pagejs{
    <script type="text/javascript" src="/assets/js/plugins/tables/datatables/datatables.min.js"></script>
    <script type="text/javascript" src="/assets/js/plugins/forms/selects/select2.min.js"></script>

    <script type="text/javascript" src="/assets/js/core/app.js"></script>
    <script type="text/javascript" src="/assets/js/pages/datatables_advanced.js"></script>

    @* @Html.Partial("~/Views/Shared/Modal/DeleteModal.cshtml", Url.Action("Remove", "DocumentTemplate"))*@

}
<!-- Page header -->
@Html.Partial("Page/PageHeader")
<!-- /page header -->
<!-- Content area -->
<div class="content">
    <!-- Page length options -->
    <div class="panel panel-flat">
        <div class="panel-heading">
            <h5 class="panel-title">Listings</h5>
            <div class="heading-elements">

                <div class="text-right">
                    <a href="@Url.Action("Basket","ClaimListing",new {area=""})" class="btn btn-primary">Checkout</a>
                </div>

            </div>
        </div>
        <div class="panel-body">
            Listings
        </div>
        <table class="table datatable-show-all">
            <thead>
                <tr>
                    <th>Listing Id</th>
                    <th>Product Name</th>
                    <th>Branch Name</th>
                    <th>Availble Qty</th>
                    <th>Total Quanitiy</th>


                    <th class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model.ListingIndexItemModels)
            {
                    <tr>
                        <td><a href="@Url.Action("Edit", "Listings", new { id = item.ListingId})">@item.CompanyReference</a></td>

                        <td>@item.ListingName</td>
                        <td>@item.TotalQuantity</td>
                        <td>@item.BranchName</td>
                        <td>@item.QuantityAvailable</td>


                        <td class="text-center">
                            <ul class="icons-list">

                                <li class="text-primary-600"><a href="@Url.Action("AddToBasket", "ClaimListing", new {id = @item.ListingId,area="" })"><i class="icon-pencil7"></i></a></li>
                                
                            </ul>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
    <!-- /page length options -->


</div>
<!-- /content area -->
